<page-header [title]="crudEntityName +'维护'"  *ngIf="processType.length > 0 ">
  <ng-template #action>
    <button nz-button (click)="returnToListForm()" type="button">返回汇总界面</button>

  </ng-template>
</page-header>
<nz-card [nzBordered]="false">
    <nz-tabset>
        <nz-tab [nzTitle]="'基本信息'">
            <span>
              <sf  #sf [button]="null"
                   [schema]="emptyFormSchema"
                   [formData]="businessData"
                   mode="edit"
                   (formError)="error($event)">

                <div >
                 <button type="submit" nz-button [disabled]="!sf.valid"  (click)="submitForm()"
                         *ngIf="showSaveButton()" [nzLoading]="loading">保存</button>
                  <button (click)="reset()"  type="button" nz-button *ngIf="showSaveButton()">重置</button>
                  <button nz-button [disabled]="!sf.valid" (click)="submitEntity()"
                          *ngIf="showSubmitButton()" [nzLoading]="submitLoading">提交</button>

                  <button nz-button (click)="addPerson()"
                          *ngIf="showSubmitButton()" >新增个体</button>

                  <button nz-button (click)="lockEntity()" *ngIf="showLockButton()" [nzLoading]="lockLoading">锁定</button>
                  <button nz-button (click)="unlockEntity()" *ngIf="showUnlockButton()" [nzLoading]="unlockLoading">解锁</button>
                  <button nz-button (click)="confirmEntity()" [disabled]="!sf.valid" *ngIf="showConfirmButton()" [nzLoading]="confirmLoading">确认</button>
                  <button nz-button (click)="unconfirmEntity()" *ngIf="showUnconfirmButton()" [nzLoading]="unconfirmLoading">取消确认</button>
                  <button nz-button (click)="cancelEntity()" *ngIf="showCancelButton()" [nzLoading]="cancelLoading">作废</button>

                  <button nz-button (click)="leaveEntity()" *ngIf="showLeaveButton()" [nzLoading]="leaveLoading">离职</button>

                </div>

              </sf>

            </span>
            <byl-show-error-formitem [errorMessage]="errMsg"></byl-show-error-formitem>
          <!--<p>formdata:{{sfForm.value | json}}</p>-->
          <!--<p>businessData:{{businessData | json}}</p>-->
        </nz-tab>
        <!--<nz-tab [nzDisabled]="!sourceId" nzTitle="绑定个人信息">-->
          <!--<byl-person-bind [setPersonRelation]="personRelation" [showMode]="showMode"-->
                           <!--[personBindService]="employeeService"></byl-person-bind>-->
        <!--</nz-tab>-->

        <nz-tab [nzDisabled]="!sourceId" nzTitle="日志">
          <byl-entity-logger [entityId]="sourceId"></byl-entity-logger>
        </nz-tab>

    </nz-tabset>

</nz-card>

