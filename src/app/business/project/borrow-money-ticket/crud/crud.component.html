<page-header [title]="'借款单信息维护'" *ngIf="processType.length > 0 "></page-header>
<nz-card [nzBordered]="false">
    <nz-tabset>
      <nz-tab [nzTitle]="'基本信息'">
            <form nz-form [formGroup]="form"  role="form">
              <byl-input-formitem [controlName]="'billNo'" [labelCaption]="'单号'"
                                  [hostForm]="form" [controlPath]="'billNo'" [isRequired]="'true'"
                                  [placeHolder]="'请输入单号'"></byl-input-formitem>
                    <!--<div nz-form-item nz-row>-->
                        <!--<div nz-form-label nz-col [nzSm]="4">-->
                            <!--<label for="billNo" nz-form-item-required>-->
                                    <!--<span>-->
                                        <!--单号-->
                                        <!--&lt;!&ndash;<nz-tooltip [nzTitle]="'What do you want other to call you'">&ndash;&gt;-->
                                        <!--&lt;!&ndash;<i nz-tooltip class="anticon anticon-question-circle-o"></i>&ndash;&gt;-->
                                        <!--&lt;!&ndash;</nz-tooltip>&ndash;&gt;-->
                                    <!--</span>-->
                            <!--</label>-->
                        <!--</div>-->

                        <!--<div nz-form-control nz-col [nzSm]="20" nzHasFeedback [nzValidateStatus]="billNo">-->
                            <!--<nz-input formControlName="billNo" nzPlaceHolder="单号" ></nz-input>-->

                            <!--<ng-container *ngIf="billNo.dirty && billNo.touched">-->
                                <!--<p nz-form-explain *ngIf="billNo.errors?.required">必须输入单号</p>-->
                                <!--&lt;!&ndash;<p nz-form-explain *ngIf="code.errors?.idCard">输入身份证号码不正确</p>&ndash;&gt;-->
                                <!--<p nz-form-explain *ngIf="billNo.errors?.duplicate">输入的单号已经被使用</p>-->
                                <!--<p nz-form-explain *ngIf="billNo.errors?.other">验证出现异常：{{billNo.errors?.msg}}</p>-->
                                <!--&lt;!&ndash;<p nz-form-explain *ngIf="idCard.errors?.minlength">最少为一个字符</p>&ndash;&gt;-->
                                <!--<p nz-form-explain *ngIf="billNo.pending">验证中...</p>-->
                            <!--</ng-container>-->

                        <!--</div>-->
                    <!--</div>-->
              <byl-radio-formitem [controlName]="'borrowType'" [labelCaption]="'借款人类型'"
                                  [hostForm]="form" [controlPath]="'borrowType'" [isRequired]="'true'"
                                  [selectOptions]="borrowTypeOptions"></byl-radio-formitem>
                    <!--<div nz-form-item nz-row>-->
                        <!--<div nz-form-label nz-col [nzSm]="4">-->
                            <!--<label for="borrowType" nz-form-item-required>-->
                                    <!--<span>-->
                                        <!--借款人类型-->
                                        <!--&lt;!&ndash;<nz-tooltip [nzTitle]="'What do you want other to call you'">&ndash;&gt;-->
                                        <!--&lt;!&ndash;<i nz-tooltip class="anticon anticon-question-circle-o"></i>&ndash;&gt;-->
                                        <!--&lt;!&ndash;</nz-tooltip>&ndash;&gt;-->
                                    <!--</span>-->
                            <!--</label>-->
                        <!--</div>-->
                        <!--<div nz-form-control nz-col [nzSm]="20" nzHasFeedback [nzValidateStatus]="borrowType">-->

                            <!--<nz-radio-group formControlName="borrowType" >-->
                              <!--<label nz-radio-button [nzValue]="1"><span>个体</span></label>-->
                              <!--<label nz-radio-button [nzValue]="2"><span>组织</span></label>-->
                            <!--</nz-radio-group>-->
                            <!--<ng-container *ngIf="borrowType.dirty && borrowType.touched">-->
                                <!--<p nz-form-explain *ngIf="borrowType.errors?.required">必须选择借款人类型</p>-->
                            <!--</ng-container>-->
                        <!--</div>-->
                    <!--</div>-->

                    <!--<nz-form-item nz-row>-->
                        <!--<nz-form-label nz-col [nzSm]="4" [nzFor]="'borrowCode'" [nzRequired]="'true'">-->
                          <!--借款人-->
                        <!--</nz-form-label>-->
                        <!--<nz-form-control nz-col [nzSm]="20" nzHasFeedback >-->

                            <!--<nz-input-group nzCompact>-->
                                <!--<input formControlName="borrowId"  type="hidden">-->
                                <!--<input nz-input formControlName="borrowCode" nzPlaceHolder="代码" style="width: 30%;" id="borrowCode" >-->
                                <!--<nz-form-explain *ngIf="borrowCode.dirty && borrowCode.errors">-->
                                    <!--<ng-container *ngIf="borrowCode.hasError('required')">必须输入借款人代码</ng-container>-->
                                    <!--<ng-container *ngIf="borrowCode.hasError('other')">验证出现异常：{{borrowCode.hasError('other')}}</ng-container>-->
                                    <!--<ng-container *ngIf="borrowCode.pending">验证中...</ng-container>-->
                                <!--</nz-form-explain>-->

                                <!--<input nz-input formControlName="borrowName" style="width: 60%;" disabled="true">-->

                                <!--<button nz-button [nzType]="'default'" [nzLoading]="loading"  (click)="searchBorrower($event)" style="width: 10%;" >-->
                                    <!--<i class="anticon anticon-search"></i>-->
                                <!--</button>-->
                            <!--</nz-input-group>-->

                        <!--</nz-form-control>-->
                    <!--</nz-form-item>-->

                    <!--<div nz-form-item nz-row>-->
                        <!--<div nz-form-label nz-col [nzSm]="4">-->
                            <!--<label for="projectCode" nz-form-item-required>-->
                                    <!--<span>-->
                                        <!--所属项目-->
                                        <!--&lt;!&ndash;<nz-tooltip [nzTitle]="'What do you want other to call you'">&ndash;&gt;-->
                                        <!--&lt;!&ndash;<i nz-tooltip class="anticon anticon-question-circle-o"></i>&ndash;&gt;-->
                                        <!--&lt;!&ndash;</nz-tooltip>&ndash;&gt;-->
                                    <!--</span>-->
                            <!--</label>-->
                        <!--</div>-->
                        <!--<div nz-form-control nz-col [nzSm]="20" nzHasFeedback [nzValidateStatus]="managerCode">-->

                            <!--<nz-input-group [nzSize]="'large'" nzCompact>-->
                                <!--<input formControlName="projectId"  type="hidden">-->
                                <!--<input nz-input formControlName="projectCode" nzPlaceHolder="代码" style="width: 30%;" >-->
                                <!--<ng-container *ngIf="projectCode.dirty && projectCode.touched">-->
                                    <!--<p nz-form-explain *ngIf="projectCode.errors?.required">必须输入项目代码</p>-->
                                    <!--<p nz-form-explain *ngIf="projectCode.errors?.other">验证出现异常：{{projectCode.errors?.msg}}</p>-->
                                    <!--<p nz-form-explain *ngIf="projectCode.pending">验证中...</p>-->
                                <!--</ng-container>-->

                                <!--<input nz-input formControlName="projectName" style="width: 60%;" [nzDisabled]="true">-->

                                <!--<button nz-button [nzType]="'default'" [nzLoading]="loading"  (click)="searchProject($event)" style="width: 10%;" >-->
                                    <!--<i class="anticon anticon-search"></i>-->
                                <!--</button>-->
                            <!--</nz-input-group>-->

                        <!--</div>-->
                    <!--</div>-->

              <byl-input-formitem [controlName]="'reason'" [labelCaption]="'借款原因'"
                                  [hostForm]="form" [controlPath]="'reason'" [isRequired]="'true'"
                                  [placeHolder]="'请输入借款原因'"></byl-input-formitem>

                    <!--<div nz-form-item nz-row>-->
                        <!--<div nz-form-label nz-col [nzSm]="4">-->
                            <!--<label for="reason" nz-form-item-required>-->
                                    <!--<span>-->
                                        <!--借款原因-->
                                        <!--&lt;!&ndash;<nz-tooltip [nzTitle]="'What do you want other to call you'">&ndash;&gt;-->
                                        <!--&lt;!&ndash;<i nz-tooltip class="anticon anticon-question-circle-o"></i>&ndash;&gt;-->
                                        <!--&lt;!&ndash;</nz-tooltip>&ndash;&gt;-->
                                    <!--</span>-->
                            <!--</label>-->
                        <!--</div>-->
                        <!--<div nz-form-control nz-col [nzSm]="20" nzHasFeedback [nzValidateStatus]="reason">-->
                            <!--<nz-input formControlName="reason" nzPlaceHolder="借款原因" ></nz-input>-->

                            <!--<ng-container *ngIf="reason.dirty && reason.touched">-->
                                <!--<p nz-form-explain *ngIf="reason.errors?.required">必须输入借款原因</p>-->
                                <!--<p nz-form-explain *ngIf="reason.errors?.other">验证出现异常：{{reason.errors?.msg}}</p>-->
                                <!--<p nz-form-explain *ngIf="reason.pending">验证中...</p>-->
                            <!--</ng-container>-->
                        <!--</div>-->
                    <!--</div>-->
              <byl-input-number-formitem [controlName]="'reason'" [labelCaption]="'借款原因'"
                                  [hostForm]="form" [controlPath]="'reason'" [isRequired]="'true'"
                                  [max]="100000000" [min]="0" [precision]="1" [step]="1"></byl-input-number-formitem>
                    <!--<div nz-form-item nz-row>-->
                        <!--<div nz-form-label nz-col [nzSm]="4">-->
                            <!--<label for="amount" nz-form-item-required>-->
                                    <!--<span>-->
                                        <!--借款金额-->
                                        <!--&lt;!&ndash;<nz-tooltip [nzTitle]="'What do you want other to call you'">&ndash;&gt;-->
                                        <!--&lt;!&ndash;<i nz-tooltip class="anticon anticon-question-circle-o"></i>&ndash;&gt;-->
                                        <!--&lt;!&ndash;</nz-tooltip>&ndash;&gt;-->
                                    <!--</span>-->
                            <!--</label>-->
                        <!--</div>-->
                        <!--<div nz-form-control nz-col [nzSm]="20" nzHasFeedback [nzValidateStatus]="amount">-->
                            <!--<nz-input-number [nzMin]="0" formControlName="amount" nzPlaceHolder="借款金额" [nzAllowClear]="true"></nz-input-number>-->

                            <!--<ng-container *ngIf="amount.dirty && amount.touched">-->
                                <!--<p nz-form-explain *ngIf="amount.errors?.required">必须输入借款金额</p>-->
                                <!--<p nz-form-explain *ngIf="amount.errors?.other">验证出现异常：{{amount.errors?.msg}}</p>-->
                                <!--<p nz-form-explain *ngIf="amount.pending">验证中...</p>-->
                            <!--</ng-container>-->
                        <!--</div>-->
                    <!--</div>-->

              <byl-date-formitem [controlName]="'borrowDate'" [labelCaption]="'借款日期'"
                                 [hostForm]="form" [controlPath]="'borrowDate'" [isRequired]="'false'"
                                 [placeHolder]="'请输入借款日期'"></byl-date-formitem>

                    <!--<div nz-form-item nz-row>-->
                        <!--<div nz-form-label nz-col [nzSm]="4">-->
                            <!--<label for="borrowDate" nz-form-item-required>-->
                                    <!--<span>-->
                                        <!--借款日期-->
                                        <!--&lt;!&ndash;<nz-tooltip [nzTitle]="'What do you want other to call you'">&ndash;&gt;-->
                                        <!--&lt;!&ndash;<i nz-tooltip class="anticon anticon-question-circle-o"></i>&ndash;&gt;-->
                                        <!--&lt;!&ndash;</nz-tooltip>&ndash;&gt;-->
                                    <!--</span>-->
                            <!--</label>-->
                        <!--</div>-->
                        <!--<div nz-form-control nz-col [nzSm]="20" nzHasFeedback [nzValidateStatus]="borrowDate">-->
                            <!--<nz-datepicker formControlName="borrowDate" nzPlaceHolder="借款日期" [nzFormat]="'YYYY/MM/DD'"></nz-datepicker>-->
                            <!--<ng-container *ngIf="borrowDate.dirty && borrowDate.touched">-->
                                <!--<p nz-form-explain *ngIf="borrowDate.errors?.required">必须输入借款日期</p>-->
                                <!--<p nz-form-explain *ngIf="borrowDate.errors?.other">验证出现异常：{{borrowDate.errors?.msg}}</p>-->
                                <!--<p nz-form-explain *ngIf="borrowDate.pending">验证中...</p>-->
                            <!--</ng-container>-->

                        <!--</div>-->
                    <!--</div>-->

              <byl-input-formitem [controlName]="'remarks'" [labelCaption]="'备注'"
                                  [hostForm]="form" [controlPath]="'remarks'" [isRequired]="'false'"
                                  [placeHolder]="'请输入备注'"></byl-input-formitem>

              <byl-show-error-formitem [errorMessage]="errMsg"></byl-show-error-formitem>
              <div nz-form-item nz-row class="mb0">


                  <div nz-form-control nz-col [nzSpan]="12" [nzOffset]="4">
                      <button nz-button [nzType]="'primary'" [nzSize]="'large'"
                              [disabled]="form.invalid || (!form.dirty)" (click)="submitForm()">保存</button>
                      <button nz-button (click)="resetButtonClick($event)">重置</button>


                  </div>

              </div>

            </form>
        </nz-tab>

      <nz-tab [nzDisabled]="!sourceId" nzTitle="日志">
        <byl-entity-logger [entityId]="sourceId"></byl-entity-logger>
      </nz-tab>

    </nz-tabset>

</nz-card>

