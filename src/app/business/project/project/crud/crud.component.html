<page-header [title]="'项目信息维护'" *ngIf="processType.length > 0 "></page-header>
<nz-card [nzBordered]="false">
    <nz-tabset>
        <nz-tab nzTitle="基本信息">
          <sf  #sf [button]="null"
               [schema]="emptyFormSchema"
               [formData]="businessData"
               mode="edit"
               (formError)="error($event)">
            <button type="submit" nz-button [disabled]="!sf.valid"  (click)="submitForm()"
                    *ngIf="showSaveButton()" [nzLoading]="loading">保存</button>
            <button (click)="reset()"  type="button" nz-button *ngIf="showSaveButton()">重置</button>
            <button nz-button [disabled]="!sf.valid" (click)="submitEntity()"
                    *ngIf="showSubmitButton()" [nzLoading]="submitLoading">提交</button>
            <button nz-button (click)="lockEntity()" *ngIf="showLockButton()" [nzLoading]="lockLoading">锁定</button>
            <button nz-button (click)="unlockEntity()" *ngIf="showUnlockButton()" [nzLoading]="unlockLoading">解锁</button>
            <button nz-button (click)="confirmEntity()" [disabled]="!sf.valid" *ngIf="showConfirmButton()" [nzLoading]="confirmLoading">确认</button>
            <button nz-button (click)="unconfirmEntity()" *ngIf="showUnconfirmButton()" [nzLoading]="unconfirmLoading">取消确认</button>
            <button nz-button (click)="cancelEntity()" *ngIf="showCancelButton()" [nzLoading]="cancelLoading">作废</button>

            <button nz-button (click)="runEntity()" *ngIf="showRunButton()" [nzLoading]="runningLoading">启动</button>
            <button nz-button (click)="achieveEntity()" *ngIf="showAchieveButton()" [nzLoading]="achieveLoading">完成</button>

          </sf>
          <byl-show-error-formitem [errorMessage]="errMsg"></byl-show-error-formitem>

          <p>formdata:{{sfForm.value | json}}</p>
          <p>businessData:{{businessData | json}}</p>
                <!--<form nz-form [formGroup]="form"  role="form">-->

                  <!--<byl-input-formitem [controlName]="'code'" [labelCaption]="'代码'"-->
                                      <!--[hostForm]="form" [controlPath]="'code'" [isRequired]="'true'"-->
                                      <!--[placeHolder]="'请输入项目代码'"></byl-input-formitem>-->

                  <!--<byl-input-formitem [controlName]="'name'" [labelCaption]="'名称'"-->
                                      <!--[hostForm]="form" [controlPath]="'name'" [isRequired]="'true'"-->
                                      <!--[placeHolder]="'请输入项目名称'"></byl-input-formitem>-->


                  <!--<byl-fetch-project-manager-formitem #projectManager-->
                                      <!--[hostForm]="form" [isRequired]="'true'"-->
                                      <!--[placeHolder]="'请输入项目代码'"></byl-fetch-project-manager-formitem>-->


                  <!--<byl-input-formitem [controlName]="'zipCode'" [labelCaption]="'邮政编码'"-->
                                      <!--[hostForm]="form" [controlPath]="'zipCode'" [isRequired]="'false'"-->
                                      <!--[placeHolder]="'请输入邮政编码'"></byl-input-formitem>-->

                  <!--<byl-date-formitem [controlName]="'planBeginDate'" [labelCaption]="'计划开始日期'"-->
                                     <!--[hostForm]="form" [controlPath]="'planBeginDate'" [isRequired]="'false'"-->
                                     <!--[placeHolder]="'请输入计划开始日期'"></byl-date-formitem>-->

                  <!--<byl-date-formitem [controlName]="'planEndDate'" [labelCaption]="'计划结束日期'"-->
                                     <!--[hostForm]="form" [controlPath]="'planEndDate'" [isRequired]="'false'"-->
                                     <!--[placeHolder]="'请输入计划结束日期'"></byl-date-formitem>-->



                  <!--<byl-input-formitem [controlName]="'remarks'" [labelCaption]="'备注'"-->
                                      <!--[hostForm]="form" [controlPath]="'remarks'" [isRequired]="'false'"-->
                                      <!--[placeHolder]="'请输入备注'"></byl-input-formitem>-->

                  <!--<byl-show-error-formitem [errorMessage]="errMsg"></byl-show-error-formitem>-->


                    <!--<nz-form-item nz-row class="mb0">-->
                        <!--<div nz-form-control nz-col [nzSpan]="12" [nzOffset]="4">-->
                            <!--<button nz-button [nzType]="'primary'" [nzSize]="'large'"-->
                                    <!--[disabled]="form.invalid || (!form.dirty)" (click)="submitForm()">保存</button>-->
                            <!--<button nz-button (click)="resetButtonClick($event)">重置</button>-->
                        <!--</div>-->
                    <!--</nz-form-item>-->

                <!--</form>-->
        </nz-tab>


      <nz-tab [nzDisabled]="!sourceId" nzTitle="日志" (nzClick)="logTabClick()">
        <byl-entity-logger #logList [entityId]="sourceId"></byl-entity-logger>
      </nz-tab>

    </nz-tabset>
</nz-card>

